/**---------------------------------------------------------------------------------------------------------------**/
/** PROPRIETARIO: KAPAZI                    																													  	 		    **/
/** MODULO			: Compras   																																									 		**/
/** NOME 				: MT110TOK.RPW																																										**/
/** FINALIDADE	: PE para validação da solicitação de compras													                            **/
/** SOLICITANTE	: Suellen              					                                                           				**/
/** DATA 				: 12/02/2014																																							 				**/
/** RESPONSAVEL	: RSAC SOLUCOES																																										**/
/**---------------------------------------------------------------------------------------------------------------**/
/**                                          DECLARACAO DAS BIBLIOTECAS                                         	**/
/**---------------------------------------------------------------------------------------------------------------**/
#Include "rwmake.ch"
#Include "protheus.ch"
#Include "topconn.ch"
/**---------------------------------------------------------------------------------------------------------------**/
/**                                           DEFINICAO DE PALAVRAS 	  			 								                  	**/
/**---------------------------------------------------------------------------------------------------------------**/
#Define ENTER CHR(13)+CHR(10) 
/**---------------------------------------------------------------------------------------------------------------**/
/** NOME DA FUNCAO: U_MT110TOK()														                                                      **/
/** DESCRICAO	  	: Validacao da solicitacao de compras																	                					**/                        
/**---------------------------------------------------------------------------------------------------------------**/
/**																		  CRIACAO /ALTERACOES / MANUTENCOES                       	   			 				**/	
/**---------------------------------------------------------------------------------------------------------------**/
/** Data       	| Desenvolvedor          | Solicitacao         | Descricao                                    		**/
/**---------------------------------------------------------------------------------------------------------------**/
/** 12/02/2014 	| Velton Teixeira        | Suéllen Sora        |   							 																	**/
/**---------------------------------------------------------------------------------------------------------------**/
/**	   					                  				             PARAMETROS     	              		      									**/	
/**---------------------------------------------------------------------------------------------------------------**/
/** Nenhum parametro esperado para essa rotina                                                                  	**/
/**---------------------------------------------------------------------------------------------------------------**/	

User Function MT110TOK()

	Local nPosJus   := Ascan(aHeader, {|x| AllTrim(x[2]) == "C1_JUSTIF"}) 			//Posição da justificativa no acols
	Local lRet			:= .F.                                                      //Retorno da função
	
	//Verifica se já esxiste justificativa
	If (!Empty(aCols[1][nPosJus]))
    
  	//Valida
  	lRet := .T.

	Else
	
		//Chama a tela de justificativa
		lRet := U_KCOMA001(lRet, "S")
	
	EndIf

Return lRet